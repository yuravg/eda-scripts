#!/usr/bin/env bash

# Show only Quartus Prime TimeQuest Timing Analyzer warnings

MSG="TimeQuest Timing Analyzer report:"
printf "%b%s%b\n" "\e[43m" "$MSG" "\e[0m"

CMD=grep
if hash rg 2>/dev/null; then
    CMD=rg
fi

if [ "$(ls -A output_files)" ]; then
    OUTDIR="./output_files/"
else
    OUTDIR=""
fi

"$CMD" -e "^Critical Warning" "$OUTDIR"*.sta.rpt 2>/dev/null
"$CMD" -e "^Warning" "$OUTDIR"*.sta.rpt          2>/dev/null
