#!/usr/bin/env bash

# Show only Mapping Quartus Prime compilation warnings

MSG="Qurtus Analysis and Syntheses Warning report:"
printf "%b%s%b\n" "\e[43m" "$MSG" "\e[0m"

CMD=grep
if hash rg 2>/dev/null; then
    CMD=rg
fi

if [ "$(ls -A output_files 2>/dev/null)" ]; then
    OUTDIR="./output_files/"
else
    OUTDIR=""
fi

"$CMD" -e "^Critical Warning" "$OUTDIR"*.map.rpt 2>/dev/null
"$CMD" -e "^Warning" "$OUTDIR"*.map.rpt          2>/dev/null
